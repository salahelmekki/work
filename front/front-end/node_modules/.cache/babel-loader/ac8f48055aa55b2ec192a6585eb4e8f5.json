{"ast":null,"code":"import axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nconst API_URL = \"http://localhost:8000/api/auth/login/\";\nexport const login = async (data, history) => {\n  return axios.post(API_URL, data).then(response => {\n    const Token = response.data.token;\n    localStorage.setItem(\"token\", Token);\n    const currentUser = jwt_decode(Token);\n    localStorage.setItem(\"token\", Token);\n\n    if (Token) {\n      history.push(\"/dashbord\");\n    }\n\n    console.log(Token);\n\n    if (response.data) {\n      localStorage.setItem(\"user\", JSON.stringify(response.data));\n    }\n\n    return response.data;\n  });\n};","map":{"version":3,"sources":["/home/inspire/work/front/front-end/src/services/auth.js"],"names":["axios","jwt_decode","API_URL","login","data","history","post","then","response","Token","token","localStorage","setItem","currentUser","push","console","log","JSON","stringify"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,MAAMC,OAAO,GAAG,uCAAhB;AACA,OAAO,MAAMC,KAAK,GAAG,OAAOC,IAAP,EAAaC,OAAb,KAAyB;AAC5C,SAAOL,KAAK,CAACM,IAAN,CAAWJ,OAAX,EAAoBE,IAApB,EAA0BG,IAA1B,CAAgCC,QAAD,IAAc;AAClD,UAAMC,KAAK,GAAGD,QAAQ,CAACJ,IAAT,CAAcM,KAA5B;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,KAA9B;AACA,UAAMI,WAAW,GAAGZ,UAAU,CAACQ,KAAD,CAA9B;AACAE,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,KAA9B;;AACA,QAAIA,KAAJ,EAAW;AACTJ,MAAAA,OAAO,CAACS,IAAR,CAAa,WAAb;AACD;;AACDC,IAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;;AACA,QAAID,QAAQ,CAACJ,IAAb,EAAmB;AACjBO,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BK,IAAI,CAACC,SAAL,CAAeV,QAAQ,CAACJ,IAAxB,CAA7B;AACD;;AACD,WAAOI,QAAQ,CAACJ,IAAhB;AACD,GAbM,CAAP;AAcD,CAfM","sourcesContent":["import axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nconst API_URL = \"http://localhost:8000/api/auth/login/\";\nexport const login = async (data, history) => {\n  return axios.post(API_URL, data).then((response) => {\n    const Token = response.data.token;\n    localStorage.setItem(\"token\", Token);\n    const currentUser = jwt_decode(Token);\n    localStorage.setItem(\"token\", Token);\n    if (Token) {\n      history.push(\"/dashbord\");\n    }\n    console.log(Token);\n    if (response.data) {\n      localStorage.setItem(\"user\", JSON.stringify(response.data));\n    }\n    return response.data;\n  });\n};\n"]},"metadata":{},"sourceType":"module"}